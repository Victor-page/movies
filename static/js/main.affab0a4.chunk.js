(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link____PPh","active-link":"Navigation_active-link__1Gp0D Navigation_link____PPh"}},22:function(e,t,c){e.exports={title:"PageHeading_title__2HDIr"}},23:function(e,t,c){e.exports={list:"MovieList_list__EAZFF"}},24:function(e,t,c){e.exports={"submit-button":"SearchMoviesForm_submit-button__16sYQ"}},25:function(e,t,c){e.exports={poster:"MovieCard_poster__1QnoS"}},30:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(12),s=c.n(i),r=c(5),j=(c(30),c(3)),o=c(13),u=c(11),l=c.n(u),b=c(1),O=function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)(r.c,{className:l.a.link,activeClassName:l.a["active-link"],to:"/",exact:!0,children:"Home"}),Object(b.jsx)(r.c,{className:l.a.link,activeClassName:l.a["active-link"],to:"/movies",children:"Movies"})]})},h=c(2),d=c(18),x=c.n(d),v=c(21),f="https://api.themoviedb.org/3",p="04333487fae6801ae7461c72fe9ea316",E=function(){var e=Object(v.a)(x.a.mark((function e(){var t,c,n,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",c=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return"https://image.tmdb.org/t/p/w".concat(t).concat(e)},g=c(22),S=c.n(g),_=function(e){var t=e.text;return Object(b.jsx)("h1",{className:S.a.title,children:t})},D=c(23),N=c.n(D),k=function(e){var t=e.movies;return Object(b.jsx)("ul",{className:N.a.list,children:t.map((function(e){var t=e.id,c=e.title;return Object(b.jsx)("li",{children:Object(b.jsx)("p",{children:Object(b.jsx)(r.b,{to:"/movies/".concat(t),children:c})})},t)}))})},L={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},I=function(){var e=Object(n.useState)(null),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(L.IDLE),s=Object(h.a)(i,2),r=s[0],j=s[1],o=Object(n.useState)(null),u=Object(h.a)(o,2),l=u[0],O=u[1];return Object(n.useEffect)((function(){j(L.PENDING),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"movie",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"week";return E("".concat(f,"/trending/").concat(e,"/").concat(t,"?api_key=").concat(p))}().then((function(e){var t=e.results;a(t),j(L.RESOLVED)})).catch((function(e){O(e),j(L.REJECTED)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{text:"Trending This Week"}),r===L.PENDING&&Object(b.jsx)("p",{children:"Loading..."}),r===L.REJECTED&&Object(b.jsx)("p",{children:l.message}),r===L.RESOLVED&&Object(b.jsx)(k,{movies:c})]})},R=(c(38),c(24)),w=c.n(R),C=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(h.a)(c,2),i=a[0],s=a[1];return Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===i.trim())return o.b.error("Enter some valid search query please.");t(i),s("")},children:[Object(b.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.currentTarget.value;s(t.toLowerCase())},autoFocus:!0,placeholder:"Search movies"}),Object(b.jsx)("button",{type:"submit",className:w.a["submit-button"],children:"Search"})]})},P=function(){var e=Object(n.useState)(null),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(h.a)(i,2),r=s[0],j=s[1],o=Object(n.useState)(L.IDLE),u=Object(h.a)(o,2),l=u[0],O=u[1],d=Object(n.useState)(null),x=Object(h.a)(d,2),v=x[0],m=x[1];return Object(n.useEffect)((function(){r&&(O(L.PENDING),function(e){return E("".concat(f,"/search/movie?api_key=").concat(p,"&language=en-US&page=1&include_adult=false&query=").concat(e))}(r).then((function(e){var t=e.results;a(t),O(L.RESOLVED)})).catch((function(e){m(e),O(L.REJECTED)})))}),[r]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{text:"Search for Movies"}),Object(b.jsx)(C,{onSubmit:function(e){j(e)}}),l===L.PENDING&&Object(b.jsx)("p",{children:"Loading..."}),l===L.REJECTED&&Object(b.jsx)("p",{children:v.message}),l===L.RESOLVED&&Object(b.jsx)(k,{movies:c})]})},T=function(e){var t=e.cast;return Object(b.jsx)("ul",{children:t.map((function(e){var t=e.id,c=e.name,n=e.character,a=e.profile_path;return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{children:c})}),Object(b.jsx)("img",{src:m(a,200),alt:c}),Object(b.jsxs)("p",{children:["Character: ",Object(b.jsx)("span",{children:n})]})]},t)}))})},y=L.PENDING,G=L.REJECTED,J=L.RESOLVED,V=function(){var e=Object(j.f)().movieId,t=Object(n.useState)(null),c=Object(h.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(y),r=Object(h.a)(s,2),o=r[0],u=r[1],l=Object(n.useState)(null),O=Object(h.a)(l,2),d=O[0],x=O[1];return Object(n.useEffect)((function(){u(y),function(e){return E("".concat(f,"/movie/").concat(e,"/credits?api_key=").concat(p,"&language=en-US"))}(e).then((function(e){var t=e.cast;i(t),u(J)})).catch((function(e){x(e),u(G)}))}),[e]),o===y?Object(b.jsx)("p",{children:"Loading..."}):o===G?Object(b.jsx)("p",{children:d.message}):o===J?Object(b.jsx)(T,{cast:a}):void 0},F=function(e){var t=e.reviews;return t.length?Object(b.jsx)("ul",{children:t.map((function(e){var t,c=e.id,n=e.author,a=e.content,i=e.author_details.avatar_path;return Object(b.jsxs)("li",{children:[Object(b.jsx)("p",{children:Object(b.jsx)("span",{children:n})}),i&&Object(b.jsx)("img",{src:(t=i,t.includes("gravatar")?"/"===t.charAt(0)?t.substring(1):t:m(t,200)),alt:n}),Object(b.jsxs)("p",{children:['"',Object(b.jsx)("span",{children:a}),'"']})]},c)}))}):Object(b.jsx)("p",{children:"We do not have any reviews for this movie."})},M=L.PENDING,A=L.REJECTED,U=L.RESOLVED,H=function(){var e=Object(j.f)().movieId,t=Object(n.useState)(null),c=Object(h.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(M),r=Object(h.a)(s,2),o=r[0],u=r[1],l=Object(n.useState)(null),O=Object(h.a)(l,2),d=O[0],x=O[1];return Object(n.useEffect)((function(){(function(e){return E("".concat(f,"/movie/").concat(e,"/reviews?api_key=").concat(p,"&language=en-US&page=1"))})(e).then((function(e){var t=e.results;i(t),u(U)})).catch((function(e){x(e),u(A)}))}),[e]),o===M?Object(b.jsx)("p",{children:"Loading..."}):o===A?Object(b.jsx)("p",{children:d.message}):o===U?Object(b.jsx)(F,{reviews:a}):void 0},q=c(25),Q=c.n(q),W=function(e){var t=e.movie,c=Object(j.g)(),n=c.url,a=c.path;return Object(b.jsxs)("article",{children:[Object(b.jsxs)("section",{children:[Object(b.jsx)("img",{src:m(t.poster_path),alt:t.original_title,className:Q.a.poster}),Object(b.jsx)("p",{children:t.overview})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h2",{children:"Genres"}),Object(b.jsx)("ul",{children:t.genres.map((function(e){return Object(b.jsx)("li",{children:e.name},e.id)}))})]}),Object(b.jsxs)("section",{children:[Object(b.jsx)("h2",{children:"Additional Information"}),Object(b.jsx)("h3",{children:Object(b.jsx)(r.c,{to:"".concat(n,"/cast"),children:"Cast"})}),Object(b.jsx)(j.a,{path:"".concat(a,"/cast"),children:Object(b.jsx)(V,{})}),Object(b.jsx)("h3",{children:Object(b.jsx)(r.c,{to:"".concat(n,"/reviews"),children:"Reviews"})}),Object(b.jsx)(j.a,{path:"".concat(a,"/reviews"),children:Object(b.jsx)(H,{})})]})]})},B=function(){var e=Object(j.f)().movieId,t=Object(n.useState)(null),c=Object(h.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)(L.IDLE),r=Object(h.a)(s,2),o=r[0],u=r[1],l=Object(n.useState)(null),O=Object(h.a)(l,2),d=O[0],x=O[1];return Object(n.useEffect)((function(){u(L.PENDING),function(e){return E("".concat(f,"/movie/").concat(e,"?api_key=").concat(p,"&language=en-US"))}(e).then((function(e){i(e),u(L.RESOLVED)})).catch((function(e){x(e),u(L.REJECTED)}))}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{text:o===L.RESOLVED?a.original_title:"Movie \u2116 ".concat(e)}),o===L.PENDING&&Object(b.jsx)("p",{children:"Loading..."}),o===L.REJECTED&&Object(b.jsx)("p",{children:d.message}),o===L.RESOLVED&&Object(b.jsx)(W,{movie:a})]})},Y=function(){return Object(b.jsx)("h1",{children:"404 The page is not found :("})};var Z=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(O,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",exact:!0,children:Object(b.jsx)(I,{})}),Object(b.jsx)(j.a,{path:"/movies",exact:!0,children:Object(b.jsx)(P,{})}),Object(b.jsx)(j.a,{path:"/movies/:movieId",children:Object(b.jsx)(B,{})}),Object(b.jsx)(j.a,{children:Object(b.jsx)(Y,{})})]}),Object(b.jsx)(o.a,{})]})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(Z,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.affab0a4.chunk.js.map